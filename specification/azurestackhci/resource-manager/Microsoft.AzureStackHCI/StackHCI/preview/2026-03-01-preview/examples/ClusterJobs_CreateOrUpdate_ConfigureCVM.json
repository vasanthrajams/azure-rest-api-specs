{
  "title": "ClusterJobs_CreateOrUpdate_ConfigureCVMJob",
  "operationId": "ClusterJobs_CreateOrUpdate",
  "parameters": {
    "subscriptionId": "fd3c3665-1729-4b7b-9a38-238e83b0f98b",
    "resourceGroupName": "test-rg",
    "clusterName": "myCluster",
    "jobsName": "ConfigureCVM",
    "api-version": "2026-03-01-preview",
    "resource": {
      "properties": {
        "jobType": "ConfigureCVM",
        "deploymentMode": "Deploy",
        "confidentialVmIntent": "Enable"
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "id": "/subscriptions/fd3c3665-1729-4b7b-9a38-238e83b0f98b/resourceGroups/user-pvtrp-rg/providers/Microsoft.AzureStackHCI/clusters/hciclu3/jobs/ConfigureCVM",
        "name": "ConfigureCVM",
        "type": "Microsoft.azurestackhci/clusters/jobs",
        "systemData": {
          "createdBy": "user@microsoft.com",
          "createdByType": "User",
          "createdAt": "2024-01-29T10:43:27.9471574Z",
          "lastModifiedBy": "user@microsoft.com",
          "lastModifiedByType": "User",
          "lastModifiedAt": "2024-01-29T10:43:27.9471574Z"
        },
        "properties": {
          "jobType": "ConfigureCVM",
          "confidentialVmIntent": "Enable",
          "deploymentMode": "Deploy",
          "reportedProperties": {
            "validationStatus": {
              "status": "Error",
              "steps": [
                {
                  "fullStepIndex": "0",
                  "name": "Configure CVM Intent",
                  "description": "Configure CVM Intent.",
                  "startTimeUtc": "2023-06-09T00:08:19",
                  "endTimeUtc": "2023-06-09T04:01:47",
                  "status": "Error",
                  "exception": [
                    "exception1",
                    "exception2"
                  ],
                  "steps": [
                    {
                      "fullStepIndex": "0.1",
                      "name": "Before Cloud Deployment",
                      "description": "Before Cloud Deployment",
                      "startTimeUtc": "2023-06-09T00:08:23",
                      "endTimeUtc": "2023-06-09T01:10:10",
                      "exception": [
                        "exception1",
                        "exception2"
                      ],
                      "steps": []
                    }
                  ]
                }
              ]
            },
            "deploymentStatus": {
              "status": "Error",
              "steps": [
                {
                  "fullStepIndex": "0",
                  "name": "Configure CVM Intent",
                  "description": "Configure CVM Intent.",
                  "startTimeUtc": "2023-06-09T00:08:19",
                  "endTimeUtc": "2023-06-09T04:01:47",
                  "status": "Error",
                  "exception": [
                    "exception1",
                    "exception2"
                  ],
                  "steps": [
                    {
                      "fullStepIndex": "0.1",
                      "name": "Before Cloud Deployment",
                      "description": "Before Cloud Deployment",
                      "startTimeUtc": "2023-06-09T00:08:23",
                      "endTimeUtc": "2023-06-09T01:10:10",
                      "exception": [
                        "exception1",
                        "exception2"
                      ],
                      "steps": []
                    }
                  ]
                }
              ]
            }
          },
          "provisioningState": "Succeeded",
          "status": "NotSpecified"
        }
      }
    },
    "201": {
      "body": {
        "id": "/subscriptions/fd3c3665-1729-4b7b-9a38-238e83b0f98b/resourceGroups/user-pvtrp-rg/providers/Microsoft.AzureStackHCI/clusters/hciclu3/jobs/ConfigureCVM",
        "name": "ConfigureCVM",
        "type": "Microsoft.AzureStackHCI/clusters/jobs",
        "systemData": {
          "createdBy": "user@microsoft.com",
          "createdByType": "User",
          "createdAt": "2024-01-29T10:43:27.9471574Z",
          "lastModifiedBy": "user@microsoft.com",
          "lastModifiedByType": "User",
          "lastModifiedAt": "2024-01-29T10:43:27.9471574Z"
        },
        "properties": {
          "jobType": "ConfigureCVM",
          "confidentialVmIntent": "Enable",
          "deploymentMode": "Deploy",
          "reportedProperties": {
            "validationStatus": {
              "status": "Error",
              "steps": [
                {
                  "fullStepIndex": "0",
                  "name": "Configure CVM Intent",
                  "description": "Configure CVM Intent.",
                  "startTimeUtc": "2023-06-09T00:08:19",
                  "endTimeUtc": "2023-06-09T04:01:47",
                  "status": "Error",
                  "exception": [
                    "exception1",
                    "exception2"
                  ],
                  "steps": [
                    {
                      "fullStepIndex": "0.1",
                      "name": "Before Cloud Deployment",
                      "description": "Before Cloud Deployment",
                      "startTimeUtc": "2023-06-09T00:08:23",
                      "endTimeUtc": "2023-06-09T01:10:10",
                      "exception": [
                        "exception1",
                        "exception2"
                      ],
                      "steps": []
                    }
                  ]
                }
              ]
            },
            "deploymentStatus": {
              "status": "Error",
              "steps": [
                {
                  "fullStepIndex": "0",
                  "name": "Configure CVM Intent",
                  "description": "Configure CVM Intent.",
                  "startTimeUtc": "2023-06-09T00:08:19",
                  "endTimeUtc": "2023-06-09T04:01:47",
                  "status": "Error",
                  "exception": [
                    "exception1",
                    "exception2"
                  ],
                  "steps": [
                    {
                      "fullStepIndex": "0.1",
                      "name": "Before Cloud Deployment",
                      "description": "Before Cloud Deployment",
                      "startTimeUtc": "2023-06-09T00:08:23",
                      "endTimeUtc": "2023-06-09T01:10:10",
                      "exception": [
                        "exception1",
                        "exception2"
                      ],
                      "steps": []
                    }
                  ]
                }
              ]
            }
          },
          "provisioningState": "Succeeded",
          "status": "NotSpecified"
        }
      }
    }
  }
}
